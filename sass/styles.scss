// Bootstrap-sass documentation https://github.com/twbs/bootstrap-sass#d-npm--nodejs
// ::Sass::Script::Value::Number.precision = [8, ::Sass::Script::Value::Number.precision].max



// Enables for Tribune colors, but is required for everything.
@import 'base-variables';
@import 'bootstrap_custom_variables';
// Breakpoints
$tablet-min-width:450px;
$desktop-min-width:850px;

$ad_leaderboard_height: 95px + 15px + 15px; // Just measured div height, margins
$nav_height: 51px;
$narrow-river-max-width-desktop: 650px;
$narrow-river-max-width: 450px;
$map-width: 600px;

$header-bg-color:$trib-gray4;


// ---- ADD MORE VARIABLES HERE ---------------------------------------------

// Required for everything, too, but can be broken down into smaller explicit imports if desired. 
@import 'base-mixins';
// ---- MAKE OR IMPORT MORE MIXINS HERE ---------------------------------------------

@import 'property-tax-mixins';

// ---- BRING IN THE BOOTSTRAP ---------------------------------------------


@import 'bootstrap_custom';

// ---- TRIB CLASSES, UNCOMMENT THE ONES YOU WANT ---------------------------------------------
// @import 'ngux-visibility-toggles';
// @import 'trib-bulletbox';
// @import 'trib-buttons';
@import 'trib-colors';
// @import 'trib-images-charts';
// @import 'trib-legends';
// @import 'trib-skeleton';
// @import 'trib-tables';
// @import 'trib-timeline-basic';
// @import 'trib-typography';
// @import 'trib-utilities';


// ---- IMPORT PROJECT STYLES FROM PARTIAL FILES HERE ---------------------------------------------

// SWIPER
@import '../node_modules/swiper/dist/css/swiper.min';


@import 'adverts';
@import 'typography';
@import 'nav';
@import 'pullquote';
@import 'story-header';
@import 'social-menu';
@import 'credits';
@import 'graphic-embed';
@import 'day1_header';

// ---- WRITE MORE PROJECT STYLES HERE ---------------------------------------------

.byline{
	@include river_narrow($narrow-river-max-width);
	margin-bottom:25px;
}
.byline-name{
	@include serif-text(18px, 1.3em, normal);
	margin:0;
}
.byline-publisher{
	@include sans-serif();
	margin: 0 0 15px 0;
}
.byline-publish-date{
	@include agate();
	text-transform: uppercase;
	display:block;
	margin:0;
}

.river--narrow{
	@include river_narrow($narrow-river-max-width);
}

.modal.active {
	background-color: $trib_blue4;
	width: 20%;
	height: auto;
	border-radius: 25px;
	padding: 8px;
    z-index: 10000000;
	position: fixed;
    bottom: 30%;
    left: 1%;
}
.modal.hide-this {
	background-color: $trib_blue4;
	width: 40%;
	height: auto;
	border-radius: 25px;
	padding: 8px;
    z-index: 10000000;
	position: fixed;
    bottom: 30%;
    left: -30%;
}
.append-here {
	text-align: center;
}
#exit-button {
	color: black;
	font-weight: bold;
	display: block;
	text-align: right;
	cursor: pointer;
}
#append-here p {
	color: white;
}
.target-term {
	background-color: $trib_blue4;
	cursor: pointer;
}

.video{
	@include responsive_embed(16, 9, 0);
	margin:0 0 25px 0;
	object{
		position: absolute;
		top:0;
		left:0;
		height:100%;
		width:100%;
	}
}

.methodologies{
	margin-top:25px;
	// padding-top:25px;
	// border-top:1px solid black;
	&__header{
		@include label5();
		@include display_type('serif');
	}
}

.methodology{
	margin-bottom:25px;
	padding-bottom:25px;
	border-bottom:1px solid $trib-gray4;

	&:last-child{
		padding-bottom:0;
		border-bottom:none;
	}
	p{
		@include agate();
	}

	&__link{
		@include agate();
	}
}

// --------------------------------------------
// -------------- FOOTER ----------------------
// --------------------------------------------
.page-footer{
	@include agate();
	background:$trib-blue2;

	.nav {
		max-width:90%;
		margin:0 auto;
		display: flex;
		justify-content: center;
		flex-wrap: wrap;
		& > li > a{
			color:rgba(white, .9);
			&:hover, &:focus {
			    text-decoration: underline;
			    background-color: transparent;
			}
		}
	}
}

// Comments tweaks

.comments-wrapper{
	border-bottom: 4px solid $trib-blue2;
	padding:30px 0 15px 0;
}


#comments-button{
	@include sans-serif-text(14px, 1em, normal);
	display:block;
	padding: 15px 0;
	margin: 0 auto 15px auto;
	width: 100%;
	max-width: 150px;
	background:transparent;
	border: 1px solid $trib-blue2;
	border-radius: 10px;
	transition: all 150ms ease;
	&:hover, &:focus{
		background: $trib-blue2;
		color:white;
		transition: all 150ms ease;
	}
}

.trb_cm_so[data-role="cm_container"]{
	max-height:0;
	transition: max-height 400ms ease;
}

.met-promo{
	.met-promo-content{
		p{
			@include sans-serif();
			color:white;
			width:100%;
		}
	}
}

@media all and (min-width: #{$narrow-river-max-width-desktop + 60px}){
	.river--narrow{
		@include river_narrow($narrow-river-max-width-desktop);
	}

	.byline{
		@include river_narrow($narrow-river-max-width-desktop);
		margin-bottom:25px;
	}
}

@media all and (min-width:#{$map-width}){
	// #map{
	// 	width: $map-width;
	// }
}

@media all and (max-width: 600px) {
	.modal.active {
		background-color: $trib_blue4;
		width: 80%;
		height: auto;
		border-radius: 25px;
		padding: 8px;
    	z-index: 10000000;
		position: fixed;
    	bottom: 0;
    	left: 10%;
	}
	.modal.hide-this {
		background-color: $trib_blue4;
		width: 40%;
		height: auto;
		border-radius: 25px;
		padding: 8px;
    	z-index: 10000000;
		position: fixed;
    	bottom: -5%;
    	left: 30%;
	}
}