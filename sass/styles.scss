// Bootstrap-sass documentation https://github.com/twbs/bootstrap-sass#d-npm--nodejs
// ::Sass::Script::Value::Number.precision = [8, ::Sass::Script::Value::Number.precision].max



// Enables for Tribune colors, but is required for everything.
@import 'base-variables';
@import 'bootstrap_custom_variables';
// Breakpoints
$tablet-min-width:450px;
$desktop-min-width:850px;

$ad_leaderboard_height: 95px + 15px + 15px; // Just measured div height, margins
$nav_height: 51px;
$narrow-river-max-width-desktop: 650px;
$narrow-river-max-width: 450px;
$map-width: 600px;

$header-bg-color:$trib-gray4;


// ---- ADD MORE VARIABLES HERE ---------------------------------------------

// Required for everything, too, but can be broken down into smaller explicit imports if desired. 
@import 'base-mixins';
// ---- MAKE OR IMPORT MORE MIXINS HERE ---------------------------------------------

@import 'property-tax-mixins';

// ---- BRING IN THE BOOTSTRAP ---------------------------------------------


@import 'bootstrap_custom';

// ---- TRIB CLASSES, UNCOMMENT THE ONES YOU WANT ---------------------------------------------
// @import 'ngux-visibility-toggles';
// @import 'trib-bulletbox';
// @import 'trib-buttons';
// @import 'trib-colors';
// @import 'trib-images-charts';
// @import 'trib-legends';
// @import 'trib-skeleton';
// @import 'trib-tables';
// @import 'trib-timeline-basic';
// @import 'trib-typography';
// @import 'trib-utilities';


// ---- IMPORT PROJECT STYLES FROM PARTIAL FILES HERE ---------------------------------------------

// SWIPER
@import '../node_modules/swiper/dist/css/swiper.min';


@import 'adverts';
@import 'typography';
@import 'nav';
@import 'pullquote';
@import 'story-header';
@import 'social-menu';
@import 'credits';
@import 'graphic-embed';
// @import 'day1_header';

// ---- SWIPER SWIPER SWIPER ---------------------------------------------

.day1-header-background{ 
	background:$header-bg-color; 
	background: linear-gradient(to bottom, rgba(239,239,239,1) 0%,rgba(195,195,195,1) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
	margin-bottom:50px;
	padding-bottom:50px;
}

.day1-header-display{
	// This contains all the header content;
	top: $nav_height;
	max-width: $map-width;
	margin:0 auto;
	position:relative;
	height: 90vh; // fallback
	height: calc(100vh - #{$nav_height});


}

// ---- JUST THE MAP ---------------------------------------------

// Mobile map sizing and placement
.map-wrapper{
	width: 100%;
	max-width: $map-width;
	position:absolute;
	top:61px;
	bottom:auto;	
	left:calc(50% - #{$map-width / 2});
	right:auto;
	opacity:0; 
	transition: opacity 700ms ease;

	&.map-wrapper--visible{
		opacity:1; 
		transition: opacity 700ms ease;
	}
}

#map{
	// background:white;
	width: 100%;
	height:0;
	padding-bottom:115%;
}

// Mobile chart sizing and placement
.header-chart{
	width:100%;
	max-width:$map-width;
	height: 45vh; // fallback
	height: calc(45vh - #{$nav_height / 2});
	opacity:0;
	transition: opacity 400ms ease;
	
	position:absolute;
	top:auto;
	left:calc(50% - #{$map-width / 2});
	bottom:5vh;	


	&.header-chart--visible{
		opacity:1;
		transition: opacity 400ms ease;
	}
}

.swiper-container {
	// max-width:600px;
	margin:0 auto;
	width: 100%;
    height: 100vh; // fallback
    height: calc(100vh - #{$nav_height});
    // overflow: visible;
    // background:red;

	// .swiper-pagination{
	//     position: absolute;
	//     top: 51px;
	//     right: auto;
	//     left: 101%;
	//     height: 100%; // fallback
 //        height: calc(100vh - #{$nav_height});
	//     display: flex;
	//     align-items: center;
	//     align-content: center;
	//     width: 10px;
	//     justify-content: center;
	//     transform: none;
	//     flex-wrap: wrap;
	// }
}
.swiper-slide{

	&__inner{
		height:100%;
		display: flex;
		align-items: center;
		align-content:center;
		justify-content: center;
		text-align: center;
		flex-wrap:wrap;
		// border:1px solid black;
	}

	&.swiper-slide--notch{
		.swiper-slide__inner{
			justify-content: flex-start;

			.text__blurb{
				max-width: 46%;
			}
		}
	}

	&.swiper-slide--chart{
		// justify-content: flex-start;
		// height:50vh; // fallback
		// height: calc(50vh - #{$nav_height / 2});
		.swiper-slide__inner{
			height: 45%;
			align-items:flex-end;
			align-content:flex-end;

			.text__blurb{
			// max-width: 46%;
			}
		}
	}
}
#blurb120.animate .text__blurb{
	@include enlarge(60s);
	font-size: 50px;
	line-height: 1.3em;
	// transform: scale(.5);
}

#blurb0{
	// The initial keep scrolling icons/instructions
	i, p { 
		width: 100%;
		display: block;
	}
	
	.text__blurb{
		margin: 0;
		padding: 9px 0 15px 0;
		line-height: 1em;
	}

	.fa-arrow-up{
		@include bounce(3s,bounce_reverse);
	}

	.fa-arrow-down{
		@include bounce(3s);
	}

}

.swiper-button{
	display:none;
	position:fixed;
	width:100%;
	height:50vh; // fallback
	height: calc(50vh - #{$nav_height / 2});
	left:0;
	z-index:10000;
	// border:1px dashed black;
	&--prev{
		top:$nav_height;
		// background:rgba(yellow, .2);
	}
	&--next{
		bottom:0;
		// background:rgba(purple, .2);
	}
}      

.text{
	&__blurb{
		@include serif-text(25px, 1.4em, normal);
		@include display_type('serif');
		margin:0;
		z-index: 100;
	}
	&__last-message{
		@include sans-serif-text(14px, 1.3em, normal);


	}
}

body[data-fixed-header=true]{
    overflow: hidden;
	.swiper-button{
		display:block;
	}
    .day1-header-background{
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1000;
    }
}


// ---- WRITE MORE PROJECT STYLES HERE ---------------------------------------------

.byline{
	@include river_narrow($narrow-river-max-width);
	margin-bottom:25px;
}
.byline-name{
	@include serif-text(18px, 1.3em, normal);
	margin:0;
}
.byline-publisher{
	@include sans-serif();
	margin: 0 0 15px 0;
}
.byline-publish-date{
	@include agate();
	text-transform: uppercase;
	display:block;
	margin:0;
}

.river--narrow{
	@include river_narrow($narrow-river-max-width);
}

.video{
	@include responsive_embed(16, 9, 0);
	margin:0 0 25px 0;
	object{
		position: absolute;
		top:0;
		left:0;
		height:100%;
		width:100%;
	}
}

.methodologies{
	margin-top:25px;
	padding-top:25px;
	border-top:1px solid black;
	&__header{
		@include label5();
		@include display_type('serif');
	}
}

.methodology{
	margin-bottom:25px;
	padding-bottom:25px;
	border-bottom:1px solid $trib-gray4;

	&:last-child{
		padding-bottom:0;
		border-bottom:none;
	}
	p{
		@include agate();
	}

	&__link{
		@include agate();
	}
}

@media all and (min-width: #{$narrow-river-max-width-desktop + 60px}){
	.river--narrow{
		@include river_narrow($narrow-river-max-width-desktop);
	}

	.byline{
		@include river_narrow($narrow-river-max-width-desktop);
		margin-bottom:25px;
	}
}

@media all and (min-width:#{$map-width}){
	// #map{
	// 	width: $map-width;
	// }
}

@media all and (min-width: $desktop-min-width){
	
}